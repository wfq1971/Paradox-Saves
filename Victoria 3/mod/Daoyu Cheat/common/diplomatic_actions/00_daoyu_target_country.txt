daoyu_target_country = {
	groups = { general }
	requires_approval = no
	should_notify_third_parties = yes
	show_effect_in_tooltip = yes

	potential = {
		has_global_variable = daoyu_on
		scope:target_country = { is_ai = yes }
		#not = { any_country = { has_modifier = daoyu_target_country } }
		root = { is_ai = no }
	}
	accept_effect = {
		if = { limit = { any_country = { has_modifier = daoyu_target_country } } random_country = { limit = { has_modifier = daoyu_target_country } remove_modifier = daoyu_target_country } }
		scope:target_country = { add_modifier = { name = daoyu_target_country days = 1 } }
		scope:target_country = { save_scope_as = daoyu_target_country }
	}
	ai = { propose_score = { value = 0 } will_propose = { always = no } }
}
daoyu_annex_country = {
	groups = { general }
	requires_approval = no
	potential = { 
		has_global_variable = daoyu_instant_diplomatic_actions_on
		root = { is_ai = no }
	}
	accept_effect = { annex = scope:target_country }
}
daoyu_create_puppet = {
	groups = { general }
	requires_approval = no
	potential = { 
		has_global_variable = daoyu_instant_diplomatic_actions_on
		root = { is_ai = no }
		not = { has_diplomatic_pact = { who = scope:target_country type = puppet } }
	}
	accept_effect = {
		create_diplomatic_pact = {
			country = scope:target_country
			type = puppet
		}
	}
}
daoyu_add_claim = {
	groups = { general }
	requires_approval = no
	potential = { 
		has_global_variable = daoyu_instant_diplomatic_actions_on
		root = { is_ai = no }
		scope:target_country = { any_scope_state = { not = { has_claim_by = root } } }
	}
	accept_effect = {
		scope:target_country = {
			every_scope_state = {
				limit = { not = { has_claim_by = root } }
				state_region = { add_claim = root }
			}
		}
	}
}
daoyu_remove_claim_1 = {
	groups = { general }
	requires_approval = no
	potential = { 
		has_global_variable = daoyu_instant_diplomatic_actions_on
		root = { is_ai = no }
		scope:target_country = { any_scope_state = { has_claim_by = root } }
	}
	accept_effect = {
		scope:target_country = {
			every_scope_state = {
				limit = { has_claim_by = root }
				state_region = { remove_claim = root }
			}
		}
	}
}
daoyu_remove_claim_2 = {
	groups = { general }
	requires_approval = no
	potential = { 
		has_global_variable = daoyu_instant_diplomatic_actions_on
		root = { is_ai = no }
		any_scope_state = { has_claim_by = scope:target_country }
	}
	accept_effect = {
		every_scope_state = {
			limit = { has_claim_by = scope:target_country }
			state_region = { remove_claim = scope:target_country }
		}
	}
}
daoyu_join_power_bloc = {
	groups = { general }
	requires_approval = no
	potential = { 
		has_global_variable = daoyu_instant_diplomatic_actions_on
		root = { is_ai = no }
	}
	possible = {
		or = {
			and = { root = { is_in_power_bloc = no } scope:target_country = { is_in_power_bloc = yes } }
			and = { root = { is_in_power_bloc = yes is_power_bloc_leader = yes } scope:target_country = { is_in_power_bloc = no } }
		}
	}
	accept_effect = {
		if = {
			limit = { or = { scope:target_country = { is_in_power_bloc = yes is_power_bloc_leader = yes } root = { is_in_power_bloc = yes is_power_bloc_leader = yes } } }
			if = { limit = { any_country = { has_modifier = daoyu_target_country } } random_country = { limit = { has_modifier = daoyu_target_country } remove_modifier = daoyu_target_country } }
			scope:target_country = { add_modifier = { name = daoyu_target_country days = 1 } }
			scope:target_country = { save_scope_as = daoyu_target_country }
		}
		else_if = {
			limit = { scope:target_country = { is_in_power_bloc = yes is_power_bloc_leader = no } }
			if = { limit = { any_country = { has_modifier = daoyu_target_country } } random_country = { limit = { has_modifier = daoyu_target_country } remove_modifier = daoyu_target_country } }
			random_country = {
				limit = { is_in_power_bloc = yes is_power_bloc_leader = yes is_in_same_power_bloc = scope:target_country }
				add_modifier = { name = daoyu_target_country days = 1 }
				save_scope_as = daoyu_target_country
			}
		}
		set_global_variable = daoyu_from_diplomatic_actions
		root = { trigger_event = { id = daoyu.400 popup = yes } }
	}
}